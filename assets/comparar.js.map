{"version":3,"sources":["webpack://11ty-netlify-jumpstart/./src/comparar.js","webpack://11ty-netlify-jumpstart/webpack/startup"],"names":["departamentoSelect1","document","getElementById","municipioSelect1","departamentoSelect2","municipioSelect2","departamentos","municipios","reduce","municipio","indexOf","departamento","push","forEach","option","createElement","value","innerHTML","add","cloneNode","selectedIndex","addEventListener","event","L","options","length","i","remove","departamentoSelected","target","window","id_municipal","appendChild","preventDefault","departamento1","municipio1","departamento2","municipio2","tematica","nutricionCharts","container","cronica","desnutricion","sort","a","b","periodo","aguda","cronicaLastYear","agudaLastYear","concat","min","max","newArray","cronicaItem","find","item","agudaItem","data","cantidad","label","toString","serie","createChart","isG2plotData","promedio","promedios","cronicaYAguda2012","cronicaYAguda2013","cronicaYAguda2014","cronicaYAguda2015","cronicaYAguda2016","cronicaYAguda2017","cronicaYAguda2018","cronicaYAguda2019","Promise","all","fetch","then","response","json","result","titles","getElementsByClassName"],"mappings":"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","file":"comparar.js","sourcesContent":["// Obtener <select> de departamentos y municipios\nvar departamentoSelect1 = document.getElementById('departamento1');\nvar municipioSelect1 = document.getElementById('municipio1');\nvar departamentoSelect2 = document.getElementById('departamento2');\nvar municipioSelect2 = document.getElementById('municipio2');\n\n// Obtener listado de solo municipios\nvar departamentos = this.municipios.reduce((municipios, municipio) => {\n  if (municipios.indexOf(municipio.departamento) < 0) {\n    municipios.push(municipio.departamento);\n  }\n\n  return municipios;\n}, []);\n\n// Agregar departamentos como options\ndepartamentos.forEach(function (departamento) {\n  var option = document.createElement('option');\n  option.value = departamento;\n  option.innerHTML = departamento;\n  departamentoSelect1.add(option);\n  departamentoSelect2.add(option.cloneNode(true));\n});\n\n// Reiniciar select a \"Seleccionar departamento\"\ndepartamentoSelect1.selectedIndex = 0;\ndepartamentoSelect2.selectedIndex = 0;\n\n// Event listeners\n\n// [CHANGE] Select departamento 1\ndepartamentoSelect1.addEventListener('change', function (event) {\n  // Eliminar opciones anteriores\n  let L = municipioSelect1.options.length - 1;\n  for (i = L; i > 0; i--) {\n    municipioSelect1.remove(i);\n  }\n\n  var departamentoSelected = event.target.value;\n\n  // Agregar municipio filtrados\n  window.municipios.forEach((municipio) => {\n    if (departamentoSelected === municipio.departamento) {\n      var option = document.createElement('option');\n      option.value = municipio.id_municipal;\n      option.innerHTML = municipio.municipio;\n      municipioSelect1.appendChild(option);\n    }\n  });\n\n  // Reiniciar select a \"Seleccionar municipio\"\n  municipioSelect1.selectedIndex = 0;\n});\n\n// [CHANGE] Select departamento\ndepartamentoSelect2.addEventListener('change', function (event) {\n  // Eliminar opciones anteriores\n  let L = municipioSelect2.options.length - 1;\n  for (i = L; i > 0; i--) {\n    municipioSelect2.remove(i);\n  }\n\n  var departamentoSelected = event.target.value;\n\n  // Agregar municipio filtrados\n  window.municipios.forEach((municipio) => {\n    if (departamentoSelected === municipio.departamento) {\n      var option = document.createElement('option');\n      option.value = municipio.id_municipal;\n      option.innerHTML = municipio.municipio;\n      municipioSelect2.appendChild(option);\n    }\n  });\n\n  // Reiniciar select a \"Seleccionar municipio\"\n  municipioSelect2.selectedIndex = 0;\n});\n\ndocument.getElementById('form-comparar').addEventListener('submit', function (event) {\n  event.preventDefault();\n\n  let departamento1 = document.getElementById('departamento1');\n  let municipio1 = document.getElementById('municipio1');\n  let departamento2 = document.getElementById('departamento2');\n  let municipio2 = document.getElementById('municipio2');\n  let tematica = document.getElementById('tematica');\n\n  if (!(\n    departamento1.value &&\n    departamento2.value &&\n    municipio1.value &&\n    municipio2.value\n  )) {\n    return;\n  }\n\n  function nutricionCharts(municipio, container) {\n    // Nutricion\n    let cronica = municipio.desnutricion.cronica.sort((a, b) => a.periodo - b.periodo);\n    let aguda = municipio.desnutricion.aguda.sort((a, b) => a.periodo - b.periodo);\n\n    let cronicaLastYear = cronica[cronica.length - 1];\n    let agudaLastYear = aguda[aguda.length - 1];\n\n    let desnutricion = cronica.concat(aguda);\n    desnutricion = desnutricion.sort((a, b) => a.periodo - b.periodo);\n\n    let min = desnutricion[0].periodo;\n    let max = desnutricion[desnutricion.length - 1].periodo;\n\n    let newArray = [];\n\n    for (let i = min; i <= max; i++) {\n      const cronicaItem = cronica.find((item) => item.periodo == i);\n      const agudaItem = aguda.find((item) => item.periodo == i);\n\n      newArray.push({\n        data: cronicaItem ? cronicaItem.cantidad * 10 : 0,\n        label: cronicaItem ? cronicaItem.periodo.toString() : i.toString(),\n        serie: 'Crónica'\n      });\n\n      newArray.push({\n        data: agudaItem ? agudaItem.cantidad * 10 : 0,\n        label: agudaItem ? agudaItem.periodo.toString() : i.toString(),\n        serie: 'Aguda'\n      });\n    }\n\n    createChart(\n      'areaStacked',\n      container,\n      'Numero de Casos de Desnutrición Crónica por año',\n      newArray,\n      null,\n      {\n        isG2plotData: true,\n        promedio: [\n          municipio.promedios.desnutricion.cronicaYAguda2012,\n          municipio.promedios.desnutricion.cronicaYAguda2013,\n          municipio.promedios.desnutricion.cronicaYAguda2014,\n          municipio.promedios.desnutricion.cronicaYAguda2015,\n          municipio.promedios.desnutricion.cronicaYAguda2016,\n          municipio.promedios.desnutricion.cronicaYAguda2017,\n          municipio.promedios.desnutricion.cronicaYAguda2018,\n          municipio.promedios.desnutricion.cronicaYAguda2019\n        ]\n      }\n    );\n  }\n\n  Promise.all([\n    fetch(`/assets/municipios/${municipio2.value}.json`).then((response) => response.json()),\n    fetch(`/assets/municipios/${municipio1.value}.json`).then((response) => response.json())\n  ]).then((result) => {\n    // busqueda de datos\n    let municipio1 = result[0];\n    let municipio2 = result[1];\n\n    nutricionCharts(municipio1, 'chart-1');\n    nutricionCharts(municipio2, 'chart-2');\n\n    document.getElementById('title-municipio1').innerHTML = municipio1.municipio;\n    document.getElementById('title-municipio2').innerHTML = municipio2.municipio;\n\n    var titles = document.getElementsByClassName('title-tematica');\n\n    for (let item of titles) {\n      item.innerHTML = tematica.value || 'General';\n    }\n  })\n});","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_modules__[\"./src/comparar.js\"]();\n"],"sourceRoot":""}